even more malloc and free
